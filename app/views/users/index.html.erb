<h3><%= @user.name %></h3>

<% @favorites.each do |favorite| %>
  <p>検索ワード<%= favorite.word %></p>
  <p>除外ワード<%= favorite.notword %></p>
  <p>指定ジャンル
    <% favorite.genres.each do |genre| %>
      <%= genre.name %>
    <% end %>
  </p>
  <p>除外ジャンル
    <% favorite.not_genres.each do |genre| %>
      <%= genre.name %>
    <% end %>
  </p>
  <p>長期連載停止中の小説を除外する<%= favorite.stop ? '◯' : '' %></p>
  <p>初回掲載日<%= favorite.min_firstup %>から<%= favorite.max_firstup %>までの期間</p>
  <p>指定会話率<%= favorite.kaiwaritu_min %>％以上<%= favorite.kaiwaritu_max %>％以下</p>
  <p>文体指定
    <% favorite.buntais.each do |buntai| %>
      <%= buntai.name %>
    <% end %>
  </p>
  <p>小説出力順序<%= favorite.order.name %></p>
  <%= form_with scope: :search, url: novels_search_path, local: true, method: :get do |f| %>
    <%= f.hidden_field :word, value: favorite.word %>
    <%= f.hidden_field :notword, value: favorite.notword %>
    <%= f.hidden_field :order_parameters, value: favorite.order_parameters %>
    <%= f.hidden_field :stop, value: favorite.stop %>
    <%= f.hidden_field :min_firstup, value: favorite.min_firstup %>
    <%= f.hidden_field :max_firstup, value: favorite.max_firstup %>
    <%= f.hidden_field :kaiwaritu_min, value: favorite.kaiwaritu_min %>
    <%= f.hidden_field :kaiwaritu_max, value: favorite.kaiwaritu_max %>
    <% favorite.genres.each do |genre| %>
      <%= f.hidden_field :genre_parameters, multiple: true, value: genre.parameters %>
    <% end %>
    <% favorite.not_genres.each do |genre| %>
      <%= f.hidden_field :notgenre_parameters, multiple: true, value: genre.parameters %>
    <% end %>
    <% favorite.buntais.each do |buntai| %>
      <%= f.hidden_field :buntai_parameters, multiple: true, value: buntai.parameters %>
    <% end %>
    <%= f.submit "この条件で検索する" %>
  <% end %>
  <%= link_to "この条件を削除する" , user_path(favorite.id) , method: :delete, data: {confirm: "このお気に入りを本当に削除しますか？"} %>
<% end %>
